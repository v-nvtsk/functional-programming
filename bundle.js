(()=>{"use strict";function t(t,o,e){var s;return(o="symbol"==typeof(s=function(t,o){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var s=e.call(t,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o))?s:String(s))in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}function o(t){return void 0===t?0:t}function e(t){const e=t.map((t=>t.split(".").map(Number)));for(let t=e.length-1;t>=0;t-=1)e.sort(((e,s)=>o(e[t])-o(s[t])));return e.map((t=>String(t.join("."))))}function s(t){let o=null!=t?t:0;const e=t=>(o+=t,e);return e.valueOf=()=>{const e=o;return o=null!=t?t:0,e},e.toString=()=>{const e=o;return o=null!=t?t:0,String(e)},e}const n=(l=(t,o,e,s,n)=>t+o+e+s+n,function t(...o){return o.length>=l.length?l.apply(null,o):t.bind(null,...o)});var l;console.log(n(1,2,3,4,5)),console.log(n(2,3,4)(5,6)),console.log(n(3,4)(5,6)(7)),console.log(n(4,5)(6)(7,8)),console.log(n(5)(6)(7)(8)(9)),console.log("sum"),console.log("+sum(0): ",+s(0));const i=s();console.log('"" + s(1): ',""+String(i(1))),console.log('"" + s(1)(2): ',""+String(i(1)(2))),console.log(""+String(i(3)(4)(5)));const r=s(3);console.log(+r(5)),console.log(r(6).toString());const u=new class{constructor(o){t(this,"result",[]),t(this,"activeJobsCounter",0),t(this,"onReadycb",null),t(this,"taskList",[]),this.jobsCount=o}async jobs(...t){const o=t;if(o.length+this.activeJobsCounter===0)return[];if(o.forEach((t=>this.taskList.push(t))),0===this.activeJobsCounter)for(let t=0;t<this.jobsCount;t+=1)this.runNewJob();return await this.getFinalResult()}runNewJob(){if(0===this.taskList.length)return void(0===this.activeJobsCounter&&null!==this.onReadycb&&(this.onReadycb(this.result),this.onReadycb=null,this.result=[]));const t=this.taskList.shift();void 0!==t&&(this.activeJobsCounter+=1,t().then((t=>{this.result.push(t)})).catch((t=>{null!==t&&console.error(t.message)})).finally((()=>{this.activeJobsCounter-=1,this.runNewJob()})))}async getFinalResult(){return new Promise((t=>{this.onReadycb=t.bind(this.result)}))}getTaskCount(){return this.taskList.length}getActiveJobsCount(){return this.activeJobsCounter}}(2);Promise.resolve(u.jobs((async()=>await new Promise((t=>setTimeout(t,10,1)))),(async()=>await new Promise((t=>setTimeout(t,50,2)))),(async()=>await new Promise((t=>setTimeout(t,20,3)))),(async()=>await new Promise((t=>setTimeout(t,90,4)))),(async()=>await new Promise((t=>setTimeout(t,30,5)))))).then((t=>{console.log("Final result: ",t),console.log("result should be: ",[1,3,2,5,4])})),console.log("semverSort: "),console.log(e(["1.0.5","2.5.0","0.12.0","1","1.23.45","1.4.50","1.2.3.4.5.6.7"])),console.log("Result should be: ",["0.12.0","1","1.0.5","1.2.3.4.5.6.7","1.4.50","1.23.45","2.5.0"]),console.log("semverSort 2: ");console.log(e(["1.0.5.4.3.2","2.5.0.2.4.5","0.12.0","1","1.23.45","2.5.0.1.3","1.2.3.4.5.6.7"])),console.log(["0.12.0","1","1.0.5.4.3.2","1.2.3.4.5.6.7","1.23.45","2.5.0.1.3","2.5.0.2.4.5"]),console.log("spiral:"),function(t){const o=[];let e=0,s=0,n=t.length-1,l=t[0].length-1,i=t.length*t[0].length;for(;i>0;){for(let n=s;n<=l;n++)o.push(t[e][n]),i-=1;e+=1;for(let s=e;s<=n;s++)o.push(t[s][l]),i-=1;l-=1;for(let e=l;e>=s;e--)o.push(t[n][e]),i-=1;n-=1;for(let l=n;l>=e;l--)o.push(t[l][s]),i-=1;s+=1}}([[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],[15,16,17,18,19]]),console.log("result should be: ",[0,1,2,3,4,9,14,19,18,17,16,15,10,5,6,7,8,13,12,11])})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUcsRUFBRyxHQUNiLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNiLENBQUMsR0FBSSxHQUFJLEdBQUksR0FBSSxJQUNqQixDQUFDLEdBQUksR0FBSSxHQUFJLEdBQUksTUFFbkJyQyxRQUFRQyxJQUFJLHFCQUFzQixDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksSSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NvcnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3VtLnRzIiwid2VicGFjazovLy8uL2luZGV4LnRzIiwid2VicGFjazovLy8uL2N1cnJ5LnRzIiwid2VicGFjazovLy8uL3BhcmFsbGVsLnRzIiwid2VicGFjazovLy8uL3NwaXJhbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDQoNC10LDQu9C40LfQvtCy0LDRgtGMINGE0YPQvdC60YbQuNGOLCDRgNC10LDQu9C40LfRg9GO0YnRg9GOINGB0L7RgNGC0LjRgNC+0LLQutGDINGBINGD0YfQtdGC0L7QvCDQv9GA0LDQstC40Lsgc2VtdmVyXG5cbmZ1bmN0aW9uIGdldFZhbGlkTnVtYmVyKG51bTogbnVtYmVyIHwgdW5kZWZpbmVkKTogbnVtYmVyIHtcbiAgaWYgKG51bSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgcmV0dXJuIG51bTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbXZlclNvcnQoYXJyOiBzdHJpbmdbXSk6IGFueVtdIHtcbiAgY29uc3QgcmVzdWx0ID0gYXJyLm1hcCgoZWw6IHN0cmluZyk6IG51bWJlcltdID0+IGVsLnNwbGl0KFwiLlwiKS5tYXAoTnVtYmVyKSk7XG4gIGZvciAobGV0IGkgPSByZXN1bHQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICByZXN1bHQuc29ydCgoYSwgYikgPT4gZ2V0VmFsaWROdW1iZXIoYVtpXSkgLSBnZXRWYWxpZE51bWJlcihiW2ldKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdC5tYXAoKGVsKSA9PiBTdHJpbmcoZWwuam9pbihcIi5cIikpKTtcbn1cbiIsIi8vINCk0YPQvdC60YbQuNGPINGB0YPQvNC80LDRgtC+0YAuXG4vLyDQn9GA0Lgg0LLRi9C30L7QstC1INGE0YPQvdC60YbQuNC4INGBINCw0YDQs9GD0LzQtdC90YLQsNC80Lgg0L7QvdCwINGB0YPQvNC80LjRgNGD0LXRgiDQv9C10YDQtdC00LDQvdC90YvQtSDQt9C90LDRh9C10L3QuNGPXG4vL1xuLy8gKNC/0L7Qu9C10LfQvdC+INC/0YDQvtGH0LjRgtCw0YLRjCDQv9GA0L4g0LzQtdGC0L7QtNGLLnZhbHVlT2Yg0LgudG9TdHJpbmcpXG4vLyB0eXBlIHdyYXBwZXJGbiA9ICgpID0+IFN1bUZuO1xuXG5leHBvcnQgdHlwZSBTdW1GbiA9IChpbml0aWFsTnVtYmVyPzogbnVtYmVyIHwgdW5kZWZpbmVkKSA9PiBDdXJyaWVkQWRkRm47XG5leHBvcnQgdHlwZSBDdXJyaWVkQWRkRm4gPSAobnVtYmVyVG9BZGQ6IG51bWJlcikgPT4gQ3VycmllZEFkZEZuO1xuXG5leHBvcnQgZnVuY3Rpb24gc3VtKGluaXRpYWxOdW1iZXI/OiBudW1iZXIpOiBDdXJyaWVkQWRkRm4ge1xuICAvLyDQn9GA0Lgg0L/QtdGA0LLQvtC8INC30LDQv9GD0YHQutC1INC/0L7Qu9GD0YfQsNC10Lwg0LvQuNCx0L4g0L7QtNC40L0sINC70LjQsdC+INC90L7Qu9GMINCw0YDQs9GD0LzQtdC90YLQvtCyXG4gIGxldCBhY2MgPSBpbml0aWFsTnVtYmVyID8/IDA7XG5cbiAgLy8g0J/QvtGB0LvQtdC00YPRjtGJ0LjQtSDQstGL0LfQvtCy0Ysg0L/RgNC+0LjRgdGF0L7QtNGP0YIg0YEg0L7QtNC90LjQvCDQsNGA0LPRg9C80LXQvdGC0L7QvC5cbiAgY29uc3QgYWRkOiBDdXJyaWVkQWRkRm4gPSAobnVtYmVyVG9BZGQ6IG51bWJlcik6IEN1cnJpZWRBZGRGbiA9PiB7XG4gICAgYWNjICs9IG51bWJlclRvQWRkO1xuICAgIHJldHVybiBhZGQ7XG4gIH07XG5cbiAgYWRkLnZhbHVlT2YgPSAoKSA9PiB7XG4gICAgY29uc3QgdGVtcCA9IGFjYztcbiAgICBhY2MgPSBpbml0aWFsTnVtYmVyID8/IDA7XG4gICAgcmV0dXJuIHRlbXA7XG4gIH07XG4gIGFkZC50b1N0cmluZyA9ICgpID0+IHtcbiAgICBjb25zdCB0ZW1wID0gYWNjO1xuICAgIGFjYyA9IGluaXRpYWxOdW1iZXIgPz8gMDtcbiAgICByZXR1cm4gU3RyaW5nKHRlbXApO1xuICB9O1xuXG4gIHJldHVybiBhZGQ7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvcHJvbWlzZS1mdW5jdGlvbi1hc3luYyAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvcmV0dXJuLWF3YWl0ICovXG5cbmltcG9ydCB7IGN1cnJ5IH0gZnJvbSBcIi4vY3VycnlcIjtcbmltcG9ydCB7IFBhcmFsbGVsIH0gZnJvbSBcIi4vcGFyYWxsZWxcIjtcbmltcG9ydCB7IHNlbXZlclNvcnQgfSBmcm9tIFwiLi9zb3J0XCI7XG5pbXBvcnQgeyBzcGlyYWwgfSBmcm9tIFwiLi9zcGlyYWxcIjtcbmltcG9ydCB7IHN1bSB9IGZyb20gXCIuL3N1bVwiO1xuXG5jb25zdCBmdW5jID0gKGE6IG51bWJlciwgYjogbnVtYmVyLCBjOiBudW1iZXIsIGQ6IG51bWJlciwgZTogbnVtYmVyKTogbnVtYmVyID0+IGEgKyBiICsgYyArIGQgKyBlO1xuY29uc3QgaG9mID0gY3VycnkoZnVuYyk7XG5jb25zb2xlLmxvZyhob2YoMSwgMiwgMywgNCwgNSkpOyAvLyAxNVxuY29uc29sZS5sb2coaG9mKDIsIDMsIDQpKDUsIDYpKTsgLy8gMjBcbmNvbnNvbGUubG9nKGhvZigzLCA0KSg1LCA2KSg3KSk7IC8vIDI1XG5jb25zb2xlLmxvZyhob2YoNCwgNSkoNikoNywgOCkpOyAvLyAzMFxuY29uc29sZS5sb2coaG9mKDUpKDYpKDcpKDgpKDkpKTsgLy8gMzVcblxuY29uc29sZS5sb2coXCJzdW1cIik7XG5jb25zb2xlLmxvZyhcIitzdW0oMCk6IFwiLCArc3VtKDApKTsgLy8gMDtcbmNvbnN0IHMgPSBzdW0oKTtcbmNvbnNvbGUubG9nKCdcIlwiICsgcygxKTogJywgXCJcIiArIFN0cmluZyhzKDEpKSk7IC8vIDFcbmNvbnNvbGUubG9nKCdcIlwiICsgcygxKSgyKTogJywgXCJcIiArIFN0cmluZyhzKDEpKDIpKSk7IC8vIDNcbmNvbnNvbGUubG9nKFwiXCIgKyBTdHJpbmcocygzKSg0KSg1KSkpOyAvLyAxMlxuY29uc3QgczMgPSBzdW0oMyk7XG5jb25zb2xlLmxvZygrczMoNSkpOyAvLyA4XG5jb25zb2xlLmxvZyhzMyg2KS50b1N0cmluZygpKTsgLy8gOVxuXG5jb25zdCBydW5uZXIgPSBuZXcgUGFyYWxsZWwoMik7XG5cblByb21pc2UucmVzb2x2ZShcbiAgcnVubmVyLmpvYnMoXG4gICAgYXN5bmMgKCkgPT4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAsIDEpKSxcbiAgICBhc3luYyAoKSA9PiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MCwgMikpLFxuICAgIGFzeW5jICgpID0+IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwLCAzKSksXG4gICAgYXN5bmMgKCkgPT4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgOTAsIDQpKSxcbiAgICBhc3luYyAoKSA9PiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAzMCwgNSkpLFxuICApLFxuKS50aGVuKChyZXMpID0+IHtcbiAgY29uc29sZS5sb2coXCJGaW5hbCByZXN1bHQ6IFwiLCByZXMpO1xuICBjb25zb2xlLmxvZyhcInJlc3VsdCBzaG91bGQgYmU6IFwiLCBbMSwgMywgMiwgNSwgNF0pO1xufSk7XG5cbmNvbnNvbGUubG9nKFwic2VtdmVyU29ydDogXCIpO1xuY29uc29sZS5sb2coc2VtdmVyU29ydChbXCIxLjAuNVwiLCBcIjIuNS4wXCIsIFwiMC4xMi4wXCIsIFwiMVwiLCBcIjEuMjMuNDVcIiwgXCIxLjQuNTBcIiwgXCIxLjIuMy40LjUuNi43XCJdKSk7XG5jb25zb2xlLmxvZyhcIlJlc3VsdCBzaG91bGQgYmU6IFwiLCBbXCIwLjEyLjBcIiwgXCIxXCIsIFwiMS4wLjVcIiwgXCIxLjIuMy40LjUuNi43XCIsIFwiMS40LjUwXCIsIFwiMS4yMy40NVwiLCBcIjIuNS4wXCJdKTtcblxuY29uc29sZS5sb2coXCJzZW12ZXJTb3J0IDI6IFwiKTtcbmNvbnN0IHNlbXZlclRlc3REYXRhID0ge1xuICBpbnB1dDogW1wiMS4wLjUuNC4zLjJcIiwgXCIyLjUuMC4yLjQuNVwiLCBcIjAuMTIuMFwiLCBcIjFcIiwgXCIxLjIzLjQ1XCIsIFwiMi41LjAuMS4zXCIsIFwiMS4yLjMuNC41LjYuN1wiXSxcbiAgb3V0cHV0OiBbXCIwLjEyLjBcIiwgXCIxXCIsIFwiMS4wLjUuNC4zLjJcIiwgXCIxLjIuMy40LjUuNi43XCIsIFwiMS4yMy40NVwiLCBcIjIuNS4wLjEuM1wiLCBcIjIuNS4wLjIuNC41XCJdLFxufTtcbmNvbnNvbGUubG9nKHNlbXZlclNvcnQoc2VtdmVyVGVzdERhdGEuaW5wdXQpKTtcbmNvbnNvbGUubG9nKHNlbXZlclRlc3REYXRhLm91dHB1dCk7XG5cbmNvbnNvbGUubG9nKFwic3BpcmFsOlwiKTtcbnNwaXJhbChbXG4gIFswLCAxLCAyLCAzLCA0XSxcbiAgWzUsIDYsIDcsIDgsIDldLFxuICBbMTAsIDExLCAxMiwgMTMsIDE0XSxcbiAgWzE1LCAxNiwgMTcsIDE4LCAxOV0sXG5dKTtcbmNvbnNvbGUubG9nKFwicmVzdWx0IHNob3VsZCBiZTogXCIsIFswLCAxLCAyLCAzLCA0LCA5LCAxNCwgMTksIDE4LCAxNywgMTYsIDE1LCAxMCwgNSwgNiwgNywgOCwgMTMsIDEyLCAxMV0pO1xuIiwiLy8g0J3QsNC/0LjRgdCw0YLRjCDRhNGD0L3QutGG0LjRjiDQtNC70Y8g0LrQsNGA0YDQuNGA0L7QstCw0L3QuNGPIChodHRwczovL3J1Lndpa2lwZWRpYS5vcmcvd2lraS8lRDAlOUElRDAlQjAlRDElODAlRDElODAlRDAlQjglRDElODAlRDAlQkUlRDAlQjIlRDAlQjAlRDAlQkQlRDAlQjglRDAlQjUpXG4vLyDQn9GA0LjQvNC10YAg0LjRgdC/0L7Qu9GM0LfQvtCy0LDQvdC40Y8g0YTRg9C90LrRhtC40LhcblxudHlwZSBpbkZuID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk7XG50eXBlIEZuID0gKC4uLmFyZ3M6IG51bWJlcltdKSA9PiBGbjtcbnR5cGUgSG9mID0gKC4uLmFyZ3M6IG51bWJlcltdKSA9PiBIb2Y7XG5cbmV4cG9ydCBmdW5jdGlvbiBjdXJyeShmbjogaW5Gbik6IEhvZiB7XG4gIHJldHVybiBmdW5jdGlvbiBjdXJyaWVkKC4uLmFyZ3M6IG51bWJlcltdKTogRm4ge1xuICAgIGlmIChhcmdzLmxlbmd0aCA+PSBmbi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJpZWQuYmluZChudWxsLCAuLi5hcmdzKTtcbiAgfTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlcyAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L3JldHVybi1hd2FpdCAqL1xuLy8gaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj0tWGNjUzVvX3J2Z1xuXG4vLyDQoNC10LDQu9C40LfQvtCy0LDRgtGMINGE0YPQvdC60YbQuNGOINC/0LDRgNCw0LvQu9C10LvRjNC90L7QuSDQv9C+0YLQvtC60L7QstC+0Lkg0L7QsdGA0LDQsdC+0YLQutC4INC00LDQvdC90YvRhS5cbi8vINCSINC60L7QvdGB0YLRgNGD0LrRgtC+0YAg0L/QtdGA0LXQtNCw0LXRgtGB0Y8g0YfQuNGB0LvQviDQv9Cw0YDQsNC70LvQtdC70YzQvdGL0YUgXCLQv9C+0YLQvtC60L7QslwiLCDQutC+0YLQvtGA0L7QtVxuLy8g0YPQutCw0LfRi9Cy0LDQtdGCINGB0LrQvtC70YzQutC+INC00LDQvdC90YvRhSDQvtCx0YDQsNCx0LDRgtGL0LLQsNC10YLRgdGPINCyINC60L7QvdC60YDQtdGC0L3Ri9C5INC80L7QvNC10L3RgiDQstGA0LXQvNC10L3QuFxuXG50eXBlIENhbGxiYWNrID0gKGFyZzA6IGFueSkgPT4gdm9pZDtcbnR5cGUgVGFza0Z1bmN0aW9uID0gKCkgPT4gUHJvbWlzZTxhbnk+O1xuXG5leHBvcnQgY2xhc3MgUGFyYWxsZWwge1xuICBwcml2YXRlIHJlc3VsdDogYW55W10gPSBbXTtcbiAgcHJpdmF0ZSBhY3RpdmVKb2JzQ291bnRlcjogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBvblJlYWR5Y2I6IENhbGxiYWNrIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcmVhZG9ubHkgdGFza0xpc3Q6IFRhc2tGdW5jdGlvbltdID0gW107XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBqb2JzQ291bnQ6IG51bWJlcikge31cbiAgcHVibGljIGFzeW5jIGpvYnMoLi4uYXJnczogYW55W10pOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IHRhc2tzID0gYXJncztcblxuICAgIGlmICh0YXNrcy5sZW5ndGggKyB0aGlzLmFjdGl2ZUpvYnNDb3VudGVyID09PSAwKSByZXR1cm4gW107XG5cbiAgICB0YXNrcy5mb3JFYWNoKChlbDogVGFza0Z1bmN0aW9uKSA9PiB0aGlzLnRhc2tMaXN0LnB1c2goZWwpKTtcblxuICAgIGlmICh0aGlzLmFjdGl2ZUpvYnNDb3VudGVyID09PSAwKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuam9ic0NvdW50OyBpICs9IDEpIHtcbiAgICAgICAgdGhpcy5ydW5OZXdKb2IoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRGaW5hbFJlc3VsdCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBydW5OZXdKb2IoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudGFza0xpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAodGhpcy5hY3RpdmVKb2JzQ291bnRlciA9PT0gMCkge1xuICAgICAgICBpZiAodGhpcy5vblJlYWR5Y2IgIT09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLm9uUmVhZHljYih0aGlzLnJlc3VsdCk7XG4gICAgICAgICAgdGhpcy5vblJlYWR5Y2IgPSBudWxsO1xuICAgICAgICAgIHRoaXMucmVzdWx0ID0gW107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGFzayA9IHRoaXMudGFza0xpc3Quc2hpZnQoKTtcbiAgICBpZiAodGFzayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmFjdGl2ZUpvYnNDb3VudGVyICs9IDE7XG4gICAgICB0YXNrKClcbiAgICAgICAgLnRoZW4oKHJlczogYW55KSA9PiB7XG4gICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyZXMpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycjogRXJyb3IpID0+IHtcbiAgICAgICAgICBpZiAoZXJyICE9PSBudWxsKSBjb25zb2xlLmVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuYWN0aXZlSm9ic0NvdW50ZXIgLT0gMTtcbiAgICAgICAgICB0aGlzLnJ1bk5ld0pvYigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldEZpbmFsUmVzdWx0KCk6IFByb21pc2U8W10+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMub25SZWFkeWNiID0gcmVzb2x2ZS5iaW5kKHRoaXMucmVzdWx0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRUYXNrQ291bnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy50YXNrTGlzdC5sZW5ndGg7XG4gIH1cblxuICBwdWJsaWMgZ2V0QWN0aXZlSm9ic0NvdW50KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlSm9ic0NvdW50ZXI7XG4gIH1cbn1cbiIsIi8qXG4gKiDQpNGD0L3QutGG0LjRjyDRgNCw0LfQstC+0YDQsNGH0LjQstCw0LXRgiDQvNCw0YLRgNC40YbRgyDQv9C+INGB0L/QuNGA0LDQu9C4XG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BpcmFsKGFycjogbnVtYmVyW11bXSk6IG51bWJlcltdIHtcbiAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgbGV0IHJvd1N0YXJ0ID0gMDtcbiAgbGV0IGNvbFN0YXJ0ID0gMDtcbiAgbGV0IHJvd0xhc3QgPSBhcnIubGVuZ3RoIC0gMTtcbiAgbGV0IGNvbExhc3QgPSBhcnJbMF0ubGVuZ3RoIC0gMTtcblxuICBsZXQgbnVtID0gYXJyLmxlbmd0aCAqIGFyclswXS5sZW5ndGg7XG5cbiAgd2hpbGUgKG51bSA+IDApIHtcbiAgICBmb3IgKGxldCBpID0gY29sU3RhcnQ7IGkgPD0gY29sTGFzdDsgaSsrKSB7XG4gICAgICByZXN1bHQucHVzaChhcnJbcm93U3RhcnRdW2ldKTtcbiAgICAgIG51bSAtPSAxO1xuICAgIH1cbiAgICByb3dTdGFydCArPSAxO1xuXG4gICAgZm9yIChsZXQgaSA9IHJvd1N0YXJ0OyBpIDw9IHJvd0xhc3Q7IGkrKykge1xuICAgICAgcmVzdWx0LnB1c2goYXJyW2ldW2NvbExhc3RdKTtcbiAgICAgIG51bSAtPSAxO1xuICAgIH1cblxuICAgIGNvbExhc3QgLT0gMTtcblxuICAgIGZvciAobGV0IGkgPSBjb2xMYXN0OyBpID49IGNvbFN0YXJ0OyBpLS0pIHtcbiAgICAgIHJlc3VsdC5wdXNoKGFycltyb3dMYXN0XVtpXSk7XG4gICAgICBudW0gLT0gMTtcbiAgICB9XG5cbiAgICByb3dMYXN0IC09IDE7XG5cbiAgICBmb3IgKGxldCBpID0gcm93TGFzdDsgaSA+PSByb3dTdGFydDsgaS0tKSB7XG4gICAgICByZXN1bHQucHVzaChhcnJbaV1bY29sU3RhcnRdKTtcbiAgICAgIG51bSAtPSAxO1xuICAgIH1cbiAgICBjb2xTdGFydCArPSAxO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiJdLCJuYW1lcyI6WyJnZXRWYWxpZE51bWJlciIsIm51bSIsInVuZGVmaW5lZCIsInNlbXZlclNvcnQiLCJhcnIiLCJyZXN1bHQiLCJtYXAiLCJlbCIsInNwbGl0IiwiTnVtYmVyIiwiaSIsImxlbmd0aCIsInNvcnQiLCJhIiwiYiIsIlN0cmluZyIsImpvaW4iLCJzdW0iLCJpbml0aWFsTnVtYmVyIiwiYWNjIiwiYWRkIiwibnVtYmVyVG9BZGQiLCJ2YWx1ZU9mIiwidGVtcCIsInRvU3RyaW5nIiwiaG9mIiwiZm4iLCJmdW5jIiwiYyIsImQiLCJlIiwiY3VycmllZCIsImFyZ3MiLCJhcHBseSIsImJpbmQiLCJjb25zb2xlIiwibG9nIiwicyIsInMzIiwicnVubmVyIiwiY29uc3RydWN0b3IiLCJqb2JzQ291bnQiLCJfZGVmaW5lUHJvcGVydHkiLCJqb2JzIiwidGFza3MiLCJ0aGlzIiwiYWN0aXZlSm9ic0NvdW50ZXIiLCJmb3JFYWNoIiwidGFza0xpc3QiLCJwdXNoIiwicnVuTmV3Sm9iIiwiZ2V0RmluYWxSZXN1bHQiLCJvblJlYWR5Y2IiLCJ0YXNrIiwic2hpZnQiLCJ0aGVuIiwicmVzIiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsIm1lc3NhZ2UiLCJmaW5hbGx5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJnZXRUYXNrQ291bnQiLCJnZXRBY3RpdmVKb2JzQ291bnQiLCJhc3luYyIsInNldFRpbWVvdXQiLCJyb3dTdGFydCIsImNvbFN0YXJ0Iiwicm93TGFzdCIsImNvbExhc3QiLCJzcGlyYWwiXSwic291cmNlUm9vdCI6IiJ9